apt-get update && apt-get install -y isc-dhcp-server
echo 'INTERFACESv4="eth0"' > /etc/default/isc-dhcp-server
echo 'INTERFACESv6=""' >> /etc/default/isc-dhcp-server

nano /etc/dhcp/dhcpd.conf
# Configuration for Subnet 1 (Manusia)
subnet 10.77.1.0 netmask 255.255.255.0 {
    range 10.77.1.6 10.77.1.34;
    range 10.77.1.68 10.77.1.94;
    option routers 10.77.1.1;
    option broadcast-address 10.77.1.255;
    option domain-name-servers 10.77.3.3;
    default-lease-time 600;
    max-lease-time 7200;
}

# Configuration for Subnet 2 (Peri)
subnet 10.77.2.0 netmask 255.255.255.0 {
    range 10.77.2.35 10.77.2.67;
    range 10.77.2.96 10.77.2.121;
    option routers 10.76.2.1;
    option broadcast-address 10.77.2.255;
    option domain-name-servers 10.77.3.3;
    default-lease-time 600;
    max-lease-time 7200;
}

# Configuration for Subnet 3 (Fixed Address)
subnet 10.77.3.0 netmask 255.255.255.0 {
    option routers 10.77.3.1;
    option broadcast-address 10.77.3.255;
    option domain-name-servers 10.77.3.3;
    default-lease-time 600;
    max-lease-time 7200;
}
# Aldarion
subnet 10.77.4.0 netmask 255.255.255.0 {
    option routers 10.77.4.1;
    option broadcast-address 10.77.4.255;
    option domain-name-servers 10.77.3.3;
}

# Fixed Address untuk Khamul yang misterius (Client-Fixed-Address)
host Khamul {
    hardware ethernet 02:42:dc:08:82:00;
    fixed-address 10.77.3.95;
}